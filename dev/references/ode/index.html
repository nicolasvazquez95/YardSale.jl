<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>ODE systems · YardSale</title><meta name="title" content="ODE systems · YardSale"/><meta property="og:title" content="ODE systems · YardSale"/><meta property="twitter:title" content="ODE systems · YardSale"/><meta name="description" content="Documentation for YardSale."/><meta property="og:description" content="Documentation for YardSale."/><meta property="twitter:description" content="Documentation for YardSale."/><script data-outdated-warner src="../../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.050/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.8/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="../.."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../../assets/documenter.js"></script><script src="../../search_index.js"></script><script src="../../siteinfo.js"></script><script src="../../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/catppuccin-mocha.css" data-theme-name="catppuccin-mocha"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/catppuccin-macchiato.css" data-theme-name="catppuccin-macchiato"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/catppuccin-frappe.css" data-theme-name="catppuccin-frappe"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/catppuccin-latte.css" data-theme-name="catppuccin-latte"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit"><a href="../../">YardSale</a></span></div><button class="docs-search-query input is-rounded is-small is-clickable my-2 mx-auto py-1 px-2" id="documenter-search-query">Search docs (Ctrl + /)</button><ul class="docs-menu"><li><a class="tocitem" href="../../">Home</a></li><li><span class="tocitem">Tutorials</span><ul><li><a class="tocitem" href="../../tutorials/ode_systems/ode_systems/">ODE systems</a></li><li><input class="collapse-toggle" id="menuitem-2-2" type="checkbox"/><label class="tocitem" for="menuitem-2-2"><span class="docs-label">Monte Carlo</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../tutorials/mc_eysm_base/mc_eysm_base/">EYSM Base</a></li></ul></li></ul></li><li><span class="tocitem">References</span><ul><li class="is-active"><a class="tocitem" href>ODE systems</a></li><li><a class="tocitem" href="../mc/">Monte Carlo</a></li><li><a class="tocitem" href="../utils/">Utils</a></li></ul></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><a class="docs-sidebar-button docs-navbar-link fa-solid fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a><nav class="breadcrumb"><ul class="is-hidden-mobile"><li><a class="is-disabled">References</a></li><li class="is-active"><a href>ODE systems</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>ODE systems</a></li></ul></nav><div class="docs-right"><a class="docs-navbar-link" href="https://github.com/nicolasvazquez95/YardSale.jl" title="View the repository on GitHub"><span class="docs-icon fa-brands"></span><span class="docs-label is-hidden-touch">GitHub</span></a><a class="docs-navbar-link" href="https://github.com/nicolasvazquez95/YardSale.jl/blob/master/docs/src/references/ode.md" title="Edit source on GitHub"><span class="docs-icon fa-solid"></span></a><a class="docs-settings-button docs-navbar-link fa-solid fa-gear" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-article-toggle-button fa-solid fa-chevron-up" id="documenter-article-toggle-button" href="javascript:;" title="Collapse all docstrings"></a></div></header><article class="content" id="documenter-page"><h1 id="ODE-Solvers"><a class="docs-heading-anchor" href="#ODE-Solvers">ODE Solvers</a><a id="ODE-Solvers-1"></a><a class="docs-heading-anchor-permalink" href="#ODE-Solvers" title="Permalink"></a></h1><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="YardSale.dxdt_net!-NTuple{4, Any}" href="#YardSale.dxdt_net!-NTuple{4, Any}"><code>YardSale.dxdt_net!</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">dxdt_net!(dxdt, x, p, t)</code></pre><p>In-place function to calculate the derivatives of the network model.</p><p><strong>Arguments</strong></p><pre><code class="nohighlight hljs">dxdt::Vector{&lt;:Real}: Vector of derivatives.
x::Vector{&lt;:Real}: Vector of wealths.
p::Tuple{&lt;:Integer, &lt;:Integer, Vector{Vector{&lt;:Integer}},
Vector{&lt;:Integer}, Vector{&lt;:Array}, ::Real, ::Real}: Parameters.
t::Float64: Time.</code></pre><p><strong>Details</strong></p><p>The network model is given by the following set of ODEs:</p><p class="math-container">\[\dot{x}_i = \frac{T}{N} (- \beta_i x_i + \sum_j^N \beta_j x_j) + \sum_j^N \kappa_{ij}
(x_i - x_j) \min(x_i, x_j)\]</p><p>where <span>$x_i$</span> is the wealth of node <span>$i$</span>, <span>$T$</span> is temperature, <span>$N$</span> is the number of nodes, <span>$\beta_i$</span> is the redistribution parameter of node <span>$i$</span>, <span>$\kappa_{ij}$</span> is the exchange parameter between nodes <span>$i$</span> and <span>$j$</span>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/nicolasvazquez95/YardSale.jl/blob/3d6fe55d6a866fcb7e672f6d8c6ef6ee2264587b/src/ode/ode_solvers.jl#L7-L27">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="YardSale.solve_ode_net-Tuple{Graphs.SimpleGraphs.SimpleGraph, Tuple{Real, Real}, String, String, Real, Integer}" href="#YardSale.solve_ode_net-Tuple{Graphs.SimpleGraphs.SimpleGraph, Tuple{Real, Real}, String, String, Real, Integer}"><code>YardSale.solve_ode_net</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">solve_ode_net(g, tspan, integrator, interaction_mode, taxation_mode, T, seed; kwargs...)</code></pre><p>Solves the ODE for the network model.</p><p><strong>Arguments</strong></p><pre><code class="nohighlight hljs">g::SimpleGraph{&lt;:Integer}: Graph.
tspan::Tuple{Float64, Float64}: Tuple with initial and final time.
interaction_mode::String: Interaction mode.
taxation_mode::String: Taxation mode.
T::Real: Temperature.
seed::Integer: Random seed.</code></pre><p><strong>Optional arguments</strong></p><pre><code class="nohighlight hljs">`integrator::SciMLAlgorithm`: An instante of the integrator to use. Default is Tsit5().
initial_conditions::String=nothing: Initial condition. Options are
&quot;uniform&quot;, &quot;random&quot;, &quot;noisy&quot; and &quot;custom&quot;. Default is &quot;uniform&quot;. If &quot;custom&quot; is
chosen, the x0 argument must be provided.
x0::Union{Nothing, Vector{&lt;:Real}}=nothing: Initial wealth distribution.
`kwargs...`: Additional arguments for the solver.</code></pre><p><strong>Details</strong></p><p>This function solves the ODE for the network model. It calculates the kappa and beta parameters, sets the initial conditions, and solves the ODE. It returns the solution in the standard <code>DifferentialEquations.jl</code> format. A brief description of the ODE approximation model can be found in the <code>dxdt_net!</code> function. The function uses the <code>DifferentialEquations.jl</code> package to solve the ODE. All the parameters for the solver can be passed as keyword arguments.</p><p>The initial conditions can be set to &quot;noisy&quot;, &quot;random&quot;, &quot;uniform&quot;, or a custom vector.</p><ul><li><code>&quot;noisy&quot;</code>: Initial conditions are set to a random value around 1/N.</li></ul><p><span>$x = (1/N) * (1 + \epsilon)$</span> where <code>ϵ</code> is white noise with μ=0 and σ=0.01.</p><ul><li><code>&quot;random&quot;</code>: Initial conditions are set to a random value, normalized to sum to 1.</li><li><code>&quot;uniform&quot;</code>: Initial conditions are set to 1/N.</li><li><code>&quot;custom&quot;</code>: Initial conditions are set to a custom vector. The vector must sum to 1.</li></ul><p>Also, <span>$x_i$</span> must be positive for all <span>$i$</span>.</p><p><strong>Returns</strong></p><pre><code class="nohighlight hljs">sol::ODESolution: Solution of the ODE.</code></pre><p><strong>Examples</strong></p><pre><code class="language-julia hljs">using DifferentialEquations, Graphs, YardSale
# Create a graph
g = erdos_renyi(100, 0.1, seed=42)
interaction_mode, taxation_mode = &quot;A&quot;,&quot;A&quot;
T = 1.0
seed = 42
tspan = (0.0, 10.0)
sol1 = solve_ode_net(g, tspan, interaction_mode, taxation_mode, T, seed)
sol2 = solve_ode_net(g, tspan, interaction_mode, taxation_mode, T, seed; integrator=RK4())
sol3 = solve_ode_net(g, tspan, interaction_mode, taxation_mode, T, seed;
integrator=RK4(), reltol=1e-6, abstol=1e-6)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/nicolasvazquez95/YardSale.jl/blob/3d6fe55d6a866fcb7e672f6d8c6ef6ee2264587b/src/ode/ode_solvers.jl#L52-L101">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="YardSale.solve_ode_net_SS-Tuple{Graphs.SimpleGraphs.SimpleGraph, String, String, Real, Integer}" href="#YardSale.solve_ode_net_SS-Tuple{Graphs.SimpleGraphs.SimpleGraph, String, String, Real, Integer}"><code>YardSale.solve_ode_net_SS</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">solve_ode_net_SS(g, interaction_mode, taxation_mode, T, seed;
initial_conditions=&quot;noisy&quot;,integrator=Tsit5(), kwargs...)</code></pre><p>Solves the ODE for the network model using a steady state solver.</p><p><strong>Arguments</strong></p><pre><code class="nohighlight hljs">g::SimpleGraph{&lt;:Integer}: Graph.
interaction_mode::String: Interaction mode.
taxation_mode::String: Taxation mode.
T::Real: Temperature.
seed::Integer: Random seed.</code></pre><p><strong>Optional arguments</strong></p><pre><code class="nohighlight hljs">`initial_conditions::Union{String, Vector{&lt;:Real}}`=&quot;noisy&quot;: Initial conditions
for the ODE. Default is &quot;noisy&quot;, which sets the initial conditions to a random value
around 1/N. Other options are &quot;random&quot; and &quot;uniform&quot;. If a vector is passed, it will be
used as the initial conditions.
`x0::Union{Nothing, Vector{&lt;:Real}}`=nothing: Initial wealth distribution.
`integrator::SciMLAlgorithm`: An instance of the integrator to use. Default is Tsit5().
`kwargs...`: Additional arguments for the solver.</code></pre><p><strong>Details</strong></p><p>This function solves the ODE for the network model using a steady state solver. It is similar to <code>solve_ode_net</code>, but it uses the <code>DynamicSS</code> solver to find the steady state. Instead of an ODE problem, it uses a <code>SteadyStateProblem</code> to solve the ODE. Reference: https://docs.sciml.ai/DiffEqDocs/stable/types/steady<em>state</em>types/</p><p>As in <code>solve_ode_net</code>, the initial conditions can be set to &quot;noisy&quot;, &quot;random&quot;, &quot;uniform&quot;, or a custom vector.</p><p><strong>Returns</strong></p><pre><code class="nohighlight hljs">sol::ODESolution: Solution of the ODE.</code></pre><p><strong>Examples</strong></p><pre><code class="language-julia hljs">using DifferentialEquations, Graphs, YardSale
# Create a graph
g = erdos_renyi(100, 0.1, seed=42)
interaction_mode, taxation_mode = &quot;A&quot;,&quot;A&quot;
T = 1.0
seed = 42
sol1 = solve_ode_net_SS(g, interaction_mode, taxation_mode, T, seed)
sol2 = solve_ode_net_SS(g, interaction_mode, taxation_mode, T, seed; integrator=RK4())
sol3 = solve_ode_net_SS(g, interaction_mode, taxation_mode, T, seed;
                            integrator=RK4(),reltol=1e-6, abstol=1e-6
                            )</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/nicolasvazquez95/YardSale.jl/blob/3d6fe55d6a866fcb7e672f6d8c6ef6ee2264587b/src/ode/ode_solvers.jl#L187-L231">source</a></section></article></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../../tutorials/mc_eysm_base/mc_eysm_base/">« EYSM Base</a><a class="docs-footer-nextpage" href="../mc/">Monte Carlo »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="auto">Automatic (OS)</option><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option><option value="catppuccin-latte">catppuccin-latte</option><option value="catppuccin-frappe">catppuccin-frappe</option><option value="catppuccin-macchiato">catppuccin-macchiato</option><option value="catppuccin-mocha">catppuccin-mocha</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 1.8.0 on <span class="colophon-date" title="Thursday 26 December 2024 18:49">Thursday 26 December 2024</span>. Using Julia version 1.11.2.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
